<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>RegistryOpsMixin</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../../";</script>
    <script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
    <link href="../../../styles/style.css" rel="Stylesheet">
    <link href="../../../styles/logo-styles.css" rel="Stylesheet">
    <link href="../../../styles/jetbrains-mono.css" rel="Stylesheet">
    <link href="../../../styles/main.css" rel="Stylesheet">
    <script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script>
    <script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
    <script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
    <script type="text/javascript" src="../../../scripts/main.js" async="async"></script>
  </head>
  <body>
    <div id="container">
      <div id="leftColumn">
        <div id="logo"></div>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div id="leftToggler"><span class="icon-toggler"></span></div>
        <script type="text/javascript" src="../../../scripts/pages.js"></script>
        <script type="text/javascript" src="../../../scripts/main.js"></script>
        <div class="main-content" id="content" pageIds="net.fabricmc.fabric.mixin.biome.modification/RegistryOpsMixin///PointingToDeclaration//-1908803018">
          <div class="navigation-wrapper" id="navigation-wrapper">
            <div class="breadcrumbs"><a href="../../index.html">fabric-biome-api-v1</a>/<a href="../index.html">net.fabricmc.fabric.mixin.biome.modification</a>/<a href="index.html">RegistryOpsMixin</a></div>
            <div class="pull-right d-flex">
              <div id="searchBar"></div>
            </div>
          </div>
          <div class="cover ">
            <h1 class="cover"><span>Registry</span><wbr></wbr><span>Ops</span><wbr></wbr><span>Mixin</span></h1>
            <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":fabric-biome-api-v1:dokkaHtml/main"><div class="symbol monospace">open class <a href="index.html">RegistryOpsMixin</a><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This Mixin hooks int the creation of RegistryOps, which will currently load data pack contents into the supplied dynamic registry manager, making it the point at which we should apply biome modifications. </p><p class="paragraph">There is generally the following order: </p><ol><li><span data-unresolved-link="net.minecraft.util.registry/DynamicRegistryManager/create/#/PointingToDeclaration/">create</span> is used to create a dynamic registry manager with just entries from <span data-unresolved-link="net.minecraft.util.registry/BuiltinRegistries///PointingToDeclaration/">net.minecraft.util.registry.BuiltinRegistries</span></li><li>Sometimes, Vanilla Minecraft will stop here, and use the <span data-unresolved-link="net.minecraft.util.registry/DynamicRegistryManager///PointingToDeclaration/">DynamicRegistryManager</span> as-is (examples: server.properties parsing, world creation screen).</li><li><span data-unresolved-link="net.minecraft.util.dynamic/RegistryOps/of/#com.mojang.serialization.DynamicOps&amp;lt;T&amp;gt;#net.minecraft.resource.ResourceManager#net.minecraft.util.registry.DynamicRegistryManager.Impl/PointingToDeclaration/">of</span> gets called with the manager, and a resource manager that contains the loaded data packs. This will pull in all worldgen objects from datapacks into the dynamic registry manager.</li><li>After the worldgen objects are pulled in from the datapacks, this mixin will call the biome modification callback.</li><li>In most cases, Vanilla will stop here and now use the dynamic registy manager to instantiate a server.</li><li>Sometimes, i.e. when using the &quot;re-create world feature&quot;, and a datapack throws an error, Vanilla will sometimes repeat the <span data-unresolved-link="net.minecraft.util.dynamic/RegistryOps/of/#com.mojang.serialization.DynamicOps&amp;lt;T&amp;gt;#net.minecraft.resource.ResourceManager#net.minecraft.util.registry.DynamicRegistryManager.Impl/PointingToDeclaration/">of</span> call on the same dynamic registry manager. We guard against this using <a href="../../net.fabricmc.fabric.impl.biome.modification/-biome-modification-tracker/index.html">net.fabricmc.fabric.impl.biome.modification.BiomeModificationTracker</a>.</li></ol></div></div>
          </div>
          <div class="tabbedcontent">
            <div class="tabs-section" tabs-section="tabs-section"></div>
            <div class="tabs-section-body"></div>
          </div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content"></a></span><span>Â© 2020 Copyright</span><span class="pull-right"><span>Sponsored and developed by dokka</span><a href="https://github.com/Kotlin/dokka"><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  </body>
</html>

